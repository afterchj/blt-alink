<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.tpadsz.after.dao.AccountDao">

    <update id="updateAccount" parameterType="map">
        UPDATE alink.f_user_account
        <set>
            <if test="mobile != null">mobile=#{mobile},</if>
            <if test="uname != null">uname=#{uname},</if>
            <if test="pwd != null">pwd=#{pwd},</if>
            <if test="salt != null">salt=#{salt},</if>
            update_date=now()
        </set>
        WHERE id=#{uid}
    </update>

    <select id="findByUser" resultType="int" parameterType="string">
        SELECT COUNT(1) from alink.f_user_account where uname=#{uname}
    </select>

    <select id="findByMobile" resultType="int" parameterType="string">
        SELECT COUNT(1) from alink.f_user_account where mobile=#{mobile}
    </select>
</mapper>